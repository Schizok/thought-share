(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7237:(e,t,s)=>{Promise.resolve().then(s.bind(s,5217))},5217:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var r=s(7437),a=s(8059),n=s.n(a),i=s(2265),o=s(4839),l=s(6164);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,o.W)(t))}let c=i.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});c.displayName="Card";let f=i.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",s),...a})});f.displayName="CardHeader";let m=i.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("p-6 pt-0",s),...a})});m.displayName="CardContent";let h=i.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",s),...a})});h.displayName="CardFooter";var u=s(2974);let x=(0,s(2218).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=i.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:i=!1,...o}=e,l=i?u.g7:"button";return(0,r.jsx)(l,{className:d(x({variant:a,size:n,className:s})),ref:t,...o})});p.displayName="Button";let g=i.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});g.displayName="Textarea";var b=s(994),j=s(4042),v=s(518),w=s(7592),k=s(5186),N=s(5236),y=s(9842);let C=(0,N.ZF)({apiKey:"AIzaSyC6Jf_gYDPymLZ4S1PC_aXzBbW4oVbAIEc",authDomain:"url-short-62eff.firebaseapp.com",projectId:"url-short-62eff",storageBucket:"url-short-62eff.appspot.com",messagingSenderId:"454932158838",appId:"1:454932158838:web:1aadfdd47d36974bc94257",measurementId:"G-9JEJQZ7NGR"});(0,k.v0)(C);let z=(0,y.ad)(C);function E(){let[e,t]=(0,i.useState)(""),[s,a]=(0,i.useState)(0),[o,l]=(0,i.useState)([]),d=async()=>{try{let e=(0,y.hJ)(z,"thoughts"),t=(0,y.IO)(e,(0,y.Xo)("timestamp","desc")),s=(await (0,y.PL)(t)).docs.map(e=>{let t=e.data();return{id:e.id,content:t.content,timestamp:t.timestamp,likes:Number(t.likes)||0,liked:!1}});l(s)}catch(e){console.error("Error fetching thoughts: ",e)}};(0,i.useEffect)(()=>{d()},[]);let u=async()=>{if(e.trim()){let s={content:e,timestamp:y.EK.now(),likes:0};try{let e=await (0,y.ET)((0,y.hJ)(z,"thoughts"),s);l([{...s,id:e.id,liked:!1},...o]),t("")}catch(e){console.error("Error adding thought: ",e)}}},x=e=>{"next"===e&&s<o.length-1?a(s+1):"prev"===e&&s>0&&a(s-1)},k=async()=>{if(o.length>0&&o[s]){let e=o[s],t=(0,y.JU)(z,"thoughts",e.id),r=Number(e.likes)||0,a=e.liked?r-1:r+1;try{await (0,y.r7)(t,{likes:a}),l(o.map((e,t)=>t===s?{...e,likes:a,liked:!e.liked}:e))}catch(e){console.error("Error updating likes: ",e)}}};return(0,r.jsxs)("div",{className:"jsx-e261a0366e7952f0 min-h-screen flex flex-col",children:[(0,r.jsx)("nav",{className:"jsx-e261a0366e7952f0 bg-primary text-primary-foreground p-4",children:(0,r.jsx)("div",{className:"jsx-e261a0366e7952f0 container mx-auto",children:(0,r.jsx)("h1",{className:"jsx-e261a0366e7952f0 text-2xl font-bold",children:"ThoughtShare"})})}),(0,r.jsxs)("div",{className:"jsx-e261a0366e7952f0 flex-grow container mx-auto max-w-2xl p-4 space-y-6",children:[(0,r.jsxs)(c,{className:"w-full",children:[(0,r.jsx)(f,{className:"text-center",children:(0,r.jsx)("p",{className:"jsx-e261a0366e7952f0 text-lg italic font-serif",children:'"To share a thought is to ease the mind, letting it rest in the release. In the quiet that follows, those words may take flight, offering others understanding, inspiration, or the simple comfort of knowing they are not alone""'})}),(0,r.jsxs)(m,{className:"space-y-4",children:[(0,r.jsx)(g,{placeholder:"Write your thoughts here...",value:e,onChange:e=>t(e.target.value),className:"min-h-32 whitespace-pre-wrap"}),(0,r.jsxs)(p,{className:"w-full",onClick:u,disabled:!e.trim(),children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Share Anonymously"]})]})]}),o.length>0&&(0,r.jsxs)(c,{className:"w-full",children:[(0,r.jsx)(m,{className:"pt-6",children:(0,r.jsxs)("div",{className:"jsx-e261a0366e7952f0 flex justify-between items-start",children:[(0,r.jsx)("pre",{className:"jsx-e261a0366e7952f0 whitespace-pre-wrap break-words font-sans text-lg flex-grow",children:o[s].content}),(0,r.jsxs)("div",{className:"jsx-e261a0366e7952f0 flex flex-col items-center ml-4",children:[(0,r.jsx)(p,{variant:"outline",size:"icon",className:"rounded-full p-0 w-10 h-10 heart-button ".concat(o[s].liked?"liked":""),onClick:k,"aria-label":o[s].liked?"Unlike this thought":"Like this thought",children:(0,r.jsx)(j.Z,{className:"w-5 h-5 heart-icon"})}),(0,r.jsx)("span",{className:"jsx-e261a0366e7952f0 text-sm mt-1",children:o[s].likes})]})]})}),(0,r.jsxs)(h,{className:"justify-between",children:[(0,r.jsxs)(p,{variant:"outline",onClick:()=>x("prev"),disabled:0===s,children:[(0,r.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Previous"]}),(0,r.jsxs)("span",{className:"jsx-e261a0366e7952f0 text-sm text-muted-foreground",children:[s+1," of ",o.length]}),(0,r.jsxs)(p,{variant:"outline",onClick:()=>x("next"),disabled:s===o.length-1,children:["Next",(0,r.jsx)(w.Z,{className:"w-4 h-4 ml-2"})]})]})]})]}),(0,r.jsx)(n(),{id:"e261a0366e7952f0",children:".heart-button.jsx-e261a0366e7952f0{-webkit-transition:-webkit-transform.2s ease;-moz-transition:-moz-transform.2s ease;-o-transition:-o-transform.2s ease;transition:-webkit-transform.2s ease;transition:-moz-transform.2s ease;transition:-o-transform.2s ease;transition:transform.2s ease}.heart-button.jsx-e261a0366e7952f0:hover{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.heart-button.jsx-e261a0366e7952f0:active{-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9)}.heart-icon.jsx-e261a0366e7952f0{fill:transparent;stroke:currentColor;stroke-width:2;-webkit-transition:fill.2s ease;-moz-transition:fill.2s ease;-o-transition:fill.2s ease;transition:fill.2s ease}.heart-button.liked.jsx-e261a0366e7952f0 .heart-icon.jsx-e261a0366e7952f0{fill:red;stroke:red}"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[358,387,552,130,215,744],()=>t(7237)),_N_E=e.O()}]);